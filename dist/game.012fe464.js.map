{"version":3,"sources":["js/module/component.js","js/components/GuessInput.js","js/components/Baseball.js","js/module/storage.js","js/components/App.js","js/utils/index.js","js/game.js"],"names":["Component","state","actions","Object","defineProperty","enumerable","name","callback","push","value","isRender","self","forEach","render","GuessInput","el","resultTemplate","guess","result","Baseball","guesses","problem","digitNumber","innerHTML","map","strike","ball","split","guessNumber","idx","Number","dispatch","join","localStorage","window","storage","save","id","gameInfo","games","JSON","parse","getItem","removeItem","setItem","stringify","load","done","status","delete","getAll","getNextGameId","keys","length","App","saveFile","guessInput","baseball","getState","type","disabled","getRandomInt","min","max","Math","floor","random","main","params","URLSearchParams","location","search","document","querySelector","addAction","context","Array","fill","reduce","randomNumber","some","r","app","addEventListener","e","keyCode","values","from","target","v","Error","_","error","alert","message","get","start"],"mappings":";;AMAA;;AACA;;AACA,AHFA,IAAMiC,YAAY,GAAGC,MAAM,CAACD,YAA5B;ACAA,AFAA,ADAA,AEEO,AEFA,IFEME,KEFG0B,EFEI,GAAG,OEFhB,CAAsBC,GAAtB,EAA2BC,GAA3B,EAAgC;ACGvC,AHAE3B,AEFA,EFEAA,IAAI,EAAE,CEFC4B,IAAI,CAACC,KAAL,CAAWD,EFEX3B,EAAD,AEFgB,CAAC6B,CFEZ5B,KEFO,GFEZ,EAAkB,CEFWyB,GAAG,GAAGD,GAAN,GAAY,CAA7B,CAAX,IAA8CA,GAArD;AFGE,AEFH,QFESvB,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWR,YAAY,CAACS,OAAb,CAAqB,OAArB,CAAX,KAA6C,EAA3D;AGAJ,AHEIH,IAAAA,KAAK,CAACF,EAAD,CAAL,GAAYC,QAAZ;AAEAL,IAAAA,YAAY,CAACU,UAAb,CAAwB,OAAxB;AACAV,IAAAA,YAAY,CAACW,OAAb,CAAqB,OAArB,EAA8BJ,IAAI,CAACK,SAAL,CAAeN,KAAf,CAA9B;AACD,GARoB,CHFjBvC;AMMN,ANLE,AGUA8C,EAAAA,IAAI,EAAE,CGLCqB,IAAT,GAAgB,MHKP9B,EAAD,EAAQ,CHVS;AMMvB,ANNuB,AGWrB,MGLI+B,ENNQnE,AGWNsC,IGLI,CNNW,AGWV,EGLE,CHKCC,GGLG6B,CHKC,CHXNpE,AGWOwC,KHXE,AGWP,CAAWR,OGLZ,CAAoBqC,IHKI,CAAC5B,GGLG,CAAC6B,GHKjB,CAAqB,EGLjC,CAAf,IHK2B,CAAX,KAA6C,EAA3D;AGJF,AHME,MGNId,KHMGlB,GGNK,EHMA,CGNG,AHMFF,EAAD,CAAZ,CGNmBlB,iBAAJ,CAAa;AAAEJ,ANPT,AGctB,GAboB,CGMWA,EAAE,EAAEyD,QAAQ,CAACC,aAAT,CAAuB,mBAAvB;AAAN,AHQ9B1B,EAAAA,CGRiB,CAAjB,EHQI,EAAE,cAACV,EAAD,EAAQ;AGPd,ANPE,AGeA,MGRImB,EHQEjB,CHfDtC,IGeM,CHfX,EMOc,AHQAuC,CHfDvC,EMOI,CHQC,CAACwC,CHfnB,CMOqB3B,GHQP,CAAWmB,YAAY,CAACS,EGRrB,CAAe,IHQP,CAAqB,OAArB,CAAX,KAA6C,EAA3D;AGRkC3B,ANNlC,AGgBAkB,IGVkClB,AHUlCkB,EGVoC,EAAEuC,CNNjCtE,OMMyC,ANN9C,AGgBY,CGVmCuE,AHUlC9B,EHhBE,EAAf,MGgBA,CAAwB,EGVc,CAAuB,IHU7D,IGVsC;AAAN,ANJhCxC,AGgBAoC,GGZiB,CFPAe,AEOnB,ANJEnD,AGgBAoC,KAAK,CHhBC,AGgBAF,CHhBCjC,CGgBF,CAAL,CAAU4C,MAAV,GAAmB,EHhBnB,CAAsB,GGgBtB,CHhBA,EAA4B,OAA5B,EAAqC;AIFvC,AEQAS,ANLIpD,AGiBF4B,EGZFwB,EHYExB,EHjBE5B,IMKI,CACLqE,KNNW,AGiBA,CAAC9B,CHjBC,EMKhB,CFRiE,AESpD,GHWX,CAAqB,EGZvB,EACqB,GHWnB,EAA8BJ,IAAI,CGXdmC,AHWe9B,OGXhB,EAAUpC,AHWC,CAAe8B,IGX1B,CHWW,CGXS,AHWvC;ACpB+D,AEU7DoC,ANRmC,AGmBtC,GAtBoB,CGWjBA,CNRF,GIFYtC,EAAmD,CEUtD,CAACpC,KAAR,CFVUoC,EAAmD,AEU7C5B,KAAhB;AFV6D,AEW9D,ANNF,AGiBDwC,EAAAA,CGdA,EAIGyB,GFZepD,ADsBZ,EAAE,IGdR,CAIa,IFZoD,QAA/CA,ADsBTe,CGdT,CHcQ,CGVoB,CHUZ,OCtBiD,EEYpCsC,OAAD,EAAUlE,KAAV,EAAoB;AFZiB,AEa7DkE,AHUF,IGVEA,IFb2BpB,ADuBvBhB,GGVG,CAACtC,CHUC,GCvBoD,ADuBjDuC,CGVZ,CAAcnB,EHUE,CAACoB,GCvBUc,CEa3B,CHUY,CAAWtB,CGVC,IFbqC,AEajC2C,KAAJ,CAAUnE,CHUC,CAACiC,GGVZ,EAAiBmC,EHUlB,CAAqB,CGVpB,CAAsB,CAAtB,EAAyBC,EHU1B,CAAX,GGVY,CAAgC,CHUC,EAA3D,OGV2D5D,MAAD,EAAY;AFbP,AEc3D,AHWJe,IAAAA,ICzBuCuB,EEc/BuB,MHWI,CAACpC,CCzBkD,IEc3D,IFdmCa,CDyBvC,CAAwB,OAAxB,CCzB+D;AAAA,AD2B/D,QC3BmDC,GD2B5ClB,KC3BwD,AD2BnD,CAACF,EAAD,CAAZ,IC3BmDoB,QAAY;AEgB3D,AHaJxB,IAAAA,SGbW,GHaC,CGbR,AHaSW,EGbI,KHajB,CAAqB,IHtBd,CAAE,EGsBT,EAA8BJ,IAAI,CAACK,SAAL,CAAeN,KAAf,CAA9B;AC7B+D,AEiBzDwC,AHaP,GA/BoB,CFAjBjE,IKkBIiE,YAAY,GAAG,yBAAa,CAAb,EAAgBtE,KAAhB,CAAf;AHcRyC,EAAAA,MAAM,EAAE,kBAAM;AC9BZ,AEkBM,AHaN,SC/BKb,EAAL,AD+BOG,CGbG,CAACtB,CFlBDmB,CD+BC,CC/BX,AD+BYI,GGbK,CAACuC,CHaX,CAAW/C,EGbP,CAAY,KNVf3B,IGuBsB,CGbN2E,AHaOvC,CGbR,ANVTnC,MGuBI,CAAqB,GHvBf,IGuBN,CAAX,KAA6C,EAApD;AC9BA,AEiBuB,ANTvB,AGuBD,GAlCoB,MCGde,CJQD,CAAC,KAAKpB,CMSoB+E,CAAC,EFjB/B,GAAmB3D,AEiBiByD,ANT/B,CAAazE,IAAb,CAAL,EAAyB,GIRzB,CEiBuB;AFhBvB,AFJJ,AIoB2B,ANRrB,AGuBJ6C,EAAAA,OC/BOI,AFJAvC,AIoBM,CAAL,EAA6C,CNR5Cd,EGuBI,EC/BX,AD+Ba,GC/BGqD,AJQd,CAAajD,EEZnB,CAAwBW,CFYlB,GIRF,CFJJ,AFY2B,EEZIC,AFYzB,MEZN,EAAuC,GCmChB;AC9BnB,AFJF,ADAA,AKoBU,ANRP,AGuBD,SC/BKsC,ED+BErD,MAAM,CAACiD,CC/Bd,GAAkBI,AD+BX,CAAYhB,IAAI,CFnCO,AEmCNC,IC/BxB,CD+BmB,CAAWR,YAAY,CAACS,OAAb,CAAqB,OAArB,CAAX,KAA6C,EAAzD,EAA6DW,MAA7D,GAAsE,CAA7E,aDjC8BpC,KAFhC,+DAGuCC,MAHvC;AEKE,AFCH,ADNiC,AKqBvB,AHeR,SC/BMuC,QAAL,GAAgBA,QAAhB;AACD,AEgBM,ANRL,AGfmB,CAAhB,UHeEvD,OAAL,CAAaI,IAAb,EAAmBE,IAAnB,CAAwBD,QAAxB;ACd8B,ADe9B,IEPEY,IDRUJ,EAAkB,GDevB,IAAP,CCfYA,EAAkB;AAAA,AKwB1BG,ANRL,MMQKA,MAAM,CAACV,IAAP,CAAYuE,QLxBA9E,IKwBZ,CLxB0B;AAAA,AK0B1B,QL1BYA,KAAc,AK0BnBiB,MAAP,qBL1BoB,EAAM;AK2B3B,KAduB,EAcrB,EAdqB,CAAxB,kBFLI;AAAA,AHRwB,AK4B7B,GApBH,EAqBGwD,KFpBOrC,EADF,EEAR,CFCwC,AEoB3B,IFrBL,CACEA,EADF,CEAR,EAqBuB,INXd/B,MMWeqE,ANXTlE,OMWQ,ANXgB,EMWNA,KAAV,EAAoB;AFrBnC,AFCR,AIqBI,ANZmC,QMY7BR,EFrBIqB,AJSQZ,GMYP,GAAGiE,ENZqB,GIV/B,EEsBiB,CFrBe,AEqBd1E,EJrBM,EEDxB,CACMqB,AEqBV,WFtBI,iDJUyB,IAAM;AIV/B,AFCwB,ADR9B,AK8BErB,IAAAA,KAAK,CFtBkBsD,AEsBjBnC,OAAN,CFvBI,AEuBUZ,GFtBsB,CEsBpC,CAAmBC,EFvBf,CACmB8C,EEsBvB,EL9BI,IGOA;AAGN,AHVQtD,ADkBR,MClBQA,IDkBJ,CIRCuD,AHVQ,ADkBR,EClBGvD,GDkBEC,KIRV,CAAgB6B,CJQX,CAAazB,IAAb,CAAL,CIRA,CAAyB,AJQA,MIRzB,EAAiCgB,WAAjC;AFF8B,ADRxB,AK+BJa,ANZA,KCnBF,GCQYpB,EAAkB,QAAlBA,EAAkB,CIuBpBqB,IAAR,CAAanC,KAAK,CAACoC,EAAnB,EAAuBpC,KAAvB;AFnBF,AFJ8B,ADN9B,AK8BC,ANZA,GMbH,EA0BGyE,KFrBGnB,AHVCxC,EAAL,EKKF,CLLYA,AK+BC,EL/BX,CGUA,EAAc,CELhB,EA0BqB,GJzBHd,KAAc,IIyBL;AFpBvB,AFL4B,ADTA,AKmC5BiF,IAAAA,GAAG,CJ1BWjF,AI0BV8C,IAAJ,CFrBKU,AFLuB,QEK5B,CAAc1B,QAAd,CAAuB,MAAvB,GFLsB,EAAM,6BEMvBwB,QADL;AAEEjC,AHZL,AKgCE,ANbD,GMfF,OFQMA,AJOEX,IAAI,GAAG,IIPE,AJOf,EIPIW;AAFF,AFL4B,AI6BhCkC,ANbE,EMaFA,SNbOtD,CMaG,CACPwE,KNdD,CAAapE,GMaf,CACa,ANdX,EAAmBM,IMarB,EACqB,CNdnB,CAA2B,QMcP+D,ENdQpE,KMcT,EAAUE,CNdF,EAAc,EMctB,EAAoB;AFrBtC,AEsBCkE,ANdApE,IMcAoE,GF3BF,CJaEpE,GMcO,CAACN,CFtBH,GJQG,CMcR,ANdSU,CMcKW,GNdN,EAAOb,KAAP,CMcR,ANdA,GMc4BA,KAA5B;AFrBA,AFTF,AI+BEkE,ANdAjE,EC5BmBV,EK0CnB2E,INdAjE,GMcO,CAACK,CFtBH0C,CEsBL,CAAW0B,CNdH,IAAIxE,CIRZ,CAAcoB,EJQE,CAAClB,KIRjB,AFTI,CESmB,AEsBvB,ANdY,CMcgB,ANdJF,IAAI,CIR5B,AJQ6BV,IMc7B,CNdY,CMc2B,ANdvC,UMcwCmF,CAAD,EAAO,eFrBzC;AAAE/C,AFVDpC,AIgCJ,ANdH,MElBOA,CFeR,GILSoC,AEsBD+C,CJhCK,AIgCJ,CFtBE,AEsBDC,CJhCFpF,CEUCoC,EAAF,GEsBC,KAAc,EAAlB,EAAsB;AFtBbhB,AFVP,AIiCA,ANdN,KEnBA,KEUaA,EEuBH,CNdH,ECtBIP,EGaS,AJSpB,EITsB,EAAf;AAAmBM,AFR1B,AIgCQ,ANdT,UIV2BA,AFRrBL,EAAL,EIgCcuE,CJhCJvE,EEQuB,AFRjC,EEQmC,CEwBf,CFxBb,EEwBgB6D,KAAK,CAACW,IAAN,CAAWH,CAAC,CAACI,MAAF,CAAS/E,KAApB,EAA2Be,GAA3B,CAA+B,UAACiE,CAAD;AFxBfzC,AFXT,AImCwB,UFxBfA,MAAM,EAAE,CEwBclB,MAAM,CAAC2D,CAAD,CAAb;AFxB/C,AFPR,AI+BuD,SFzBpD,EEyBqB,CAAf;AFvBJnE,UAAAA,WAAW,EAAXA;AAFF,AE2BM,cAAIgE,MAAM,CAACjC,MAAP,KAAkBsB,OAAO,CAAC1E,KAAR,CAAcqB,WAApC,EAAiD;AFvBvD,AEwBQ,aFxBHmC,KEwBS,GFxBd,CAAc1B,AEwBI2D,KAAJ,CAAU,EFxBxB,CAAuB,YEwBT,CFxBd,AEwBQ,EFxB8BpE,WAAtC;AEyBO,eNfEtB,YElBNC,OAAO;AESVkC,AFTU,yBESFC,IAAR,CAAaC,EAAb,EAAiB,KAAKoB,QAAL,CAAcC,QAAd,EAAjB;AACD,AEyBOiB,UAAAA,OAAO,CAAC5C,QAAR,CAAiB,OAAjB,EAA0BqD,CAAC,CAACI,MAAF,CAAS/E,KAAnC,EAA0CsB,QAA1C,CAAmD,OAAnD;AJnCI,AIoCL,SARD,CJ3BEX,AImCA,OJpCI,AIoCGgE,CAAP,EJnCkCnF,AImCxB,KJpCN,CACJmB,OADI;AEYZ,AFZY,AIqCJuD,UFzBJpB,AFXalC,AIoCTsD,OJrCI,AIqCG,CFzBH,AEyBI5C,CFzBHiB,CFX6B/C,KEWtC,AFZQ,CACKoB,AIoCT,CAAiB,GFzBD,GFZZ,CIqCJ,EFzBR,AEyBkC+D,CAA1B,CFzBwB;AAC9B,AFbU,AIsCL,UJrCmB9D,GEYnByB,IAAL,IFbU,GAC8B9C,KAD9B,CACcqB,WADd;AEcV,AFXF,AIoCK,WJpCAP,EAAL,CAAQQ,SAAR,GAAoBH,OAAO,CACxBI,GADiB,CACb,UAACP,KAAD,EAAW;AEWjB,AFVG,AImCD,KAdD,OJrBMQ,MAAM,GAAG,CAAb;AEWL,AFVK,AImCH,GAlBH,EAmBGiD,OJpCOhD,EIiBV,CAmBa,CJpCC,GAAG,CAAX,EIiBN,EAmBsB,UAACiD,OAAD,EAAa;AJlC7B1D,AImCF0D,IAAAA,IJnCE1D,GImCK,CAACF,CJnCD,CAACY,AImCR,CAAWlB,IJnCT,CAAY,AImCd,EJnCE,CImCiB,CJnCDG,CImClB,MJnCE,CAAwB,UAACgB,WAAD,EAAcC,GAAd,EAAsB;AAC5C,AImCL,GArBH,EAsBG6C,SJpCS5C,AIcZ,CAsBa,KJpCK,CAACF,CIcnB,EAsBsB,QJpCJ,CAAN,CIoCW+D,CAAD,EAAIlF,CJpCUY,IIoCd,EAAc,CJpCO,CAACQ,GAAD,CAAnC,EAA0C;AACxCJ,AIoCNgC,IAAAA,QJpCMhC,AIoCE,CAACM,KJpCG,GIoCZ,CJpCgB,AIoCE,CJpCZ,IEQH,GE4BH,EAA4BtB,KAA5B;AF5BG,AFPE,AIoCN,GAxBH,EAyBGiE,KF7BOlB,CFVF,GIcR,CAyBa,EJrCE,GEOR,EEKP,CFJyB,CE6BH,GF9Bf,CACGA,ME6BamC,CAAD,EAAIC,CF9BnB,IE8Be,EAAc;AF3BlCpC,AFTQ9B,AIqCNmE,IAAAA,EF5BFrC,GE4BO,CAACoC,EJrCAlE,GIqCK,CF5BH,AFTE,AIqCEoE,CF5BH/E,EAAX,CAAc4C,AFTE,CAAR,EIqCD,CF5BP,AE4BE,GF5BmB,MAArB;AACAH,AFTO,AIqCN,GA3BH,GFDEA,UAAU,CAACzC,EAAX,CAAcN,KAAd,GAAsB,aAAtB;AACA+C,AFTK,AIsCP,MF7BEA,AE6BI0B,GJ5CA,AI4CG,GAAG,IF7BA,AE6BI5B,CF7BHvC,EAAX,CAAc6C,QAAd,AE6BU,CAAQ,EF7BO,IAAzB;AFPI,AIqCJvB,IAAAA,EAAE,EAAE+B,IJrCIlD,EIqCE,CAAC6E,GJrCG,AIqCV,CAAW,EJrCE,EIqCb,CADc,EJpCd;AESJ5D,AE6BAb,IAAAA,WAAW,EAAEQ,MF7BLiB,AE6BW,CAACqB,GF7BpB,CAAa,EE6Ba,CAAC2B,EF7BT1D,CE6BE,CF7BpB,AE6B+B,OAAX,CAAD,CAFD;AF1BnB,AFRK,AIqCJkB,IAAAA,QJrCQ9B,AIqCA,EAAEU,IJrCI,KAAKb,QIqCDwB,GJrCd,CIqCM,CJrCsB,AIqCTsB,MAAM,CAAC2B,GAAP,CAAW,IAAX,CAAb,CAHQ;AJjCZ7E,AIqCNsC,IAAAA,MJrCMtC,IIqCI,EJrCE,AIqCZsC,UAJkB,GJjCA/B,MAAN,MAAN;AIsCNgC,IAAAA,QAAQ,EAARA;AJrCM,AIgCY,GAAR,CAAZ,MJhCQ,MAAI,CAAC1B,QAAL,CAAc,MAAd,EAAsB,IAAtB,EAA4B,KAA5B;AACD,AIuCPmD,EAAAA,GAAG,CAACc,GJ1CE,EI0CN,IJvCa,IAAItE,IAAI,KAAKJ,WAAb,EAA0B;AAC/BJ,AIuCT,UJvCSA,MAAM,aAAMQ,IAAN,MAAN;AACD,SAFM,MAEA;AACLR,AIuCVgB,MAAM,CAACiD,GJvCGjE,MAAM,OIuChB,CAAwB,KJvCFO,MAAN,OIuChB,EAA4C0C,IAA5C,CJvCgCzC,IAAhB,MAAN;AACD;;AAED,eAAOV,cAAc,CAACC,KAAD,EAAQC,MAAR,CAArB;AACD,OAzBiB,EA0BjBc,IA1BiB,CA0BZ,EA1BY,CAApB;AA2BD;;;+BAEU;AACT,aAAO,KAAK/B,KAAZ;AACD;;;;EAzCoBD;;eA4CRmB","file":"game.012fe464.js","sourceRoot":"../src","sourcesContent":["class Component {\n  constructor({ state }) {\n    this.state = state;\n    this.actions = {};\n\n    Object.defineProperty(this, 'state', {\n      enumerable: false,\n    });\n  }\n\n  render() {}\n\n  addAction(name, callback) {\n    if (!this.actions[name]) {\n      this.actions[name] = [];\n    }\n\n    this.actions[name].push(callback);\n    return this;\n  }\n\n  dispatch(name, value, isRender = true) {\n    if (!this.actions[name]) {\n      return;\n    }\n\n    const self = this;\n\n    this.actions[name].forEach((callback) => {\n      callback(self, value);\n      isRender && self.render(self.state);\n    });\n    return this;\n  }\n}\n\nexport default Component;\n","import Component from '../module/component';\n\nclass GuessInput extends Component {\n  constructor({ el, state = {} }) {\n    super({ state });\n\n    this.el = el;\n  }\n}\n\nexport default GuessInput;\n","import Component from '../module/component';\n\nfunction resultTemplate(guess, result) {\n  return `\n        <li class=\"list-group-item\">\n            <span class=\"guess\">${guess}</span>\n            <span class=\"badge result\">${result}</span>\n        </li>\n    `;\n}\n\nclass Baseball extends Component {\n  constructor({ el, state = {} }) {\n    super({ state });\n\n    this.el = el;\n  }\n\n  render(state) {\n    const { guesses, problem, digitNumber } = state;\n\n    this.el.innerHTML = guesses\n      .map((guess) => {\n        let strike = 0;\n        let ball = 0;\n\n        guess.split('').forEach((guessNumber, idx) => {\n          if (Number(guessNumber) === problem[idx]) {\n            strike += 1;\n          } else {\n            ball += 1;\n          }\n        });\n\n        let result = 'OUT';\n\n        if (strike === digitNumber) {\n          result = `${strike}S`;\n          this.dispatch('done', null, false);\n        } else if (ball === digitNumber) {\n          result = `${ball}B`;\n        } else {\n          result = `${strike}S${ball}B`;\n        }\n\n        return resultTemplate(guess, result);\n      })\n      .join('');\n  }\n\n  getState() {\n    return this.state;\n  }\n}\n\nexport default Baseball;\n","const localStorage = window.localStorage;\n\nexport const storage = {\n  save: (id, gameInfo) => {\n    const games = JSON.parse(localStorage.getItem('games')) || {};\n\n    games[id] = gameInfo;\n\n    localStorage.removeItem('games');\n    localStorage.setItem('games', JSON.stringify(games));\n  },\n  load: (id) => {\n    const games = JSON.parse(localStorage.getItem('games')) || {};\n\n    return games[id];\n  },\n  done: (id) => {\n    const games = JSON.parse(localStorage.getItem('games')) || {};\n\n    localStorage.removeItem('games');\n\n    games[id].status = 'done';\n\n    localStorage.setItem('games', JSON.stringify(games));\n  },\n  delete: (id) => {\n    const games = JSON.parse(localStorage.getItem('games')) || {};\n\n    localStorage.removeItem('games');\n\n    delete games[id];\n\n    localStorage.setItem('games', JSON.stringify(games));\n  },\n  getAll: () => {\n    return JSON.parse(localStorage.getItem('games')) || {};\n  },\n  getNextGameId: () => {\n    return Object.keys(JSON.parse(localStorage.getItem('games')) || {}).length + 1;\n  },\n};\n","import { storage } from '../module/storage';\n\nexport default class App {\n  constructor({ id, digitNumber, saveFile, guessInput, baseball }) {\n    this.id = id;\n    this.digitNumber = digitNumber;\n    this.saveFile = saveFile;\n    this.guessInput = guessInput;\n    this.baseball = baseball;\n  }\n\n  start() {\n    const { id, digitNumber, saveFile } = this;\n\n    this.guessInput.dispatch('init', digitNumber);\n\n    if (saveFile) {\n      this.baseball.dispatch('init', {\n        ...saveFile,\n        digitNumber,\n      });\n    } else {\n      this.baseball.dispatch('init', {\n        ...{ id, problem: [], guesses: [], status: 'doing' },\n        digitNumber,\n      });\n      this.baseball.dispatch('makeProblem', digitNumber);\n      storage.save(id, this.baseball.getState());\n    }\n\n    if (saveFile.status === 'done') {\n      this.done();\n      return;\n    }\n  }\n\n  done() {\n    const { guessInput } = this;\n\n    guessInput.el.type = 'text';\n    guessInput.el.value = '정답을 맞추었습니다.';\n    guessInput.el.disabled = true;\n\n    storage.done(this.id);\n  }\n}\n","export function getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n","import GuessInput from './components/GuessInput';\nimport Baseball from './components/Baseball';\nimport App from './components/App';\nimport { getRandomInt } from './utils';\nimport { storage } from './module/storage';\n\nfunction main() {\n  const params = new URLSearchParams(location.search);\n  const baseball = new Baseball({ el: document.querySelector('.result-container') });\n  const guessInput = new GuessInput({ el: document.querySelector('#guess') });\n\n  baseball\n    .addAction('init', (context, value) => {\n      context.state = value;\n    })\n    .addAction('makeProblem', (context, value) => {\n      context.state.problem = new Array(value).fill(0).reduce((result) => {\n        let randomNumber;\n\n        while (true) {\n          randomNumber = getRandomInt(0, value);\n\n          if (!result.some((r) => r === randomNumber)) {\n            break;\n          }\n        }\n\n        result.push(randomNumber);\n\n        return result;\n      }, []);\n    })\n    .addAction('result', (context, value) => {\n      const state = context.state;\n      state.guesses.push(value);\n      storage.save(state.id, state);\n    })\n    .addAction('done', () => {\n      app.done();\n    });\n\n  guessInput\n    .addAction('init', (context, value) => {\n      context.state.digitNumber = value;\n      context.el.addEventListener('keydown', (e) => {\n        if (e.keyCode === 13) {\n          try {\n            const values = Array.from(e.target.value).map((v) => Number(v));\n\n            if (values.length !== context.state.digitNumber) {\n              throw new Error('자릿수가 맞지 않습니다.');\n            }\n\n            context.dispatch('guess', e.target.value).dispatch('clear');\n          } catch (e) {\n            context.dispatch('error', e);\n          }\n        }\n      });\n    })\n    .addAction('clear', (context) => {\n      context.el.value = '';\n    })\n    .addAction('guess', (_, value) => {\n      baseball.dispatch('result', value);\n    })\n    .addAction('error', (_, error) => {\n      alert(error.message);\n    });\n\n  const app = new App({\n    id: params.get('id'),\n    digitNumber: Number(params.get('digit')),\n    saveFile: storage.load(params.get('id')),\n    guessInput,\n    baseball,\n  });\n\n  app.start();\n}\n\nwindow.addEventListener('DOMContentLoaded', main);\n"]}