{"version":3,"sources":["js/module/component.js","js/components/Counter.js","js/module/storage.js","js/new-game.js"],"names":["Component","state","actions","Object","defineProperty","enumerable","name","callback","push","value","isRender","self","forEach","render","Counter","el","innerText","localStorage","window","storage","save","id","gameInfo","games","JSON","parse","getItem","removeItem","setItem","stringify","load","done","status","delete","getAll","getNextGameId","keys","length","main","container","document","querySelector","counter","addAction","context","addEventListener","e","target","closest","dispatch","href"],"mappings":"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","file":"new-game.a2893f9e.js","sourceRoot":"../src","sourcesContent":["class Component {\n  constructor({ state }) {\n    this.state = state;\n    this.actions = {};\n\n    Object.defineProperty(this, 'state', {\n      enumerable: false,\n    });\n  }\n\n  render() {}\n\n  addAction(name, callback) {\n    if (!this.actions[name]) {\n      this.actions[name] = [];\n    }\n\n    this.actions[name].push(callback);\n    return this;\n  }\n\n  dispatch(name, value, isRender = true) {\n    if (!this.actions[name]) {\n      return;\n    }\n\n    const self = this;\n\n    this.actions[name].forEach((callback) => {\n      callback(self, value);\n      isRender && self.render(self.state);\n    });\n    return this;\n  }\n}\n\nexport default Component;\n","import Component from '../module/component';\n\nclass Counter extends Component {\n  constructor({ el, state }) {\n    super({ state });\n\n    this.el = el;\n  }\n\n  render(state) {\n    this.el.innerText = state;\n  }\n}\n\nexport default Counter;\n","const localStorage = window.localStorage;\n\nexport const storage = {\n  save: (id, gameInfo) => {\n    const games = JSON.parse(localStorage.getItem('games')) || {};\n\n    games[id] = gameInfo;\n\n    localStorage.removeItem('games');\n    localStorage.setItem('games', JSON.stringify(games));\n  },\n  load: (id) => {\n    const games = JSON.parse(localStorage.getItem('games')) || {};\n\n    return games[id];\n  },\n  done: (id) => {\n    const games = JSON.parse(localStorage.getItem('games')) || {};\n\n    localStorage.removeItem('games');\n\n    games[id].status = 'done';\n\n    localStorage.setItem('games', JSON.stringify(games));\n  },\n  delete: (id) => {\n    const games = JSON.parse(localStorage.getItem('games')) || {};\n\n    localStorage.removeItem('games');\n\n    delete games[id];\n\n    localStorage.setItem('games', JSON.stringify(games));\n  },\n  getAll: () => {\n    return JSON.parse(localStorage.getItem('games')) || {};\n  },\n  getNextGameId: () => {\n    return Object.keys(JSON.parse(localStorage.getItem('games')) || {}).length + 1;\n  },\n};\n","import Counter from './components/Counter';\nimport { storage } from './module/storage';\n\nfunction main() {\n  const container = document.querySelector('.container.digit-selector');\n  const counter = new Counter({ el: container.querySelector('#digit-number'), state: 0 });\n\n  counter\n    .addAction('increase', (context, value) => {\n      context.state += value;\n    })\n    .addAction('decrease', (context, value) => {\n      context.state -= context.state === 0 ? 0 : value;\n    })\n    .render(0);\n\n  container.addEventListener('click', (e) => {\n    const target = e.target;\n\n    if (target.closest('#minus-btn')) {\n      counter.dispatch('decrease', 1);\n    }\n\n    if (target.closest('#plus-btn')) {\n      counter.dispatch('increase', 1);\n    }\n\n    if (target.closest('#start-btn')) {\n      target.closest('#start-btn').href = `./game.html?id=${storage.getNextGameId()}&digit=${counter.state}`;\n    }\n  });\n}\n\nwindow.addEventListener('DOMContentLoaded', main);\n"]}